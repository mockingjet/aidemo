<?php
if (isset($_SERVER['HTTP_ORIGIN'])) {
  // Decide if the origin in $_SERVER['HTTP_ORIGIN'] is one
  // you want to allow, and if so:
  header("Access-Control-Allow-Origin: {$_SERVER['HTTP_ORIGIN']}");
  header('Access-Control-Allow-Credentials: true');
  header('Access-Control-Max-Age: 86400');    // cache for 1 day
}

// Access-Control headers are received during OPTIONS requests
if ($_SERVER['REQUEST_METHOD'] == 'OPTIONS') {

  if (isset($_SERVER['HTTP_ACCESS_CONTROL_REQUEST_METHOD']))
      // may also be using PUT, PATCH, HEAD etc
      header("Access-Control-Allow-Methods: GET, POST, OPTIONS");         

  if (isset($_SERVER['HTTP_ACCESS_CONTROL_REQUEST_HEADERS']))
      header("Access-Control-Allow-Headers: {$_SERVER['HTTP_ACCESS_CONTROL_REQUEST_HEADERS']}");

  exit(0);
}

$result['data'] = array(
  'Total'=> 41,
  'Cancer'=> "5|10",
  'Adenoma'=> "29|60",
  'Hyperplastic'=> "0|0",
  'Normal'=> "9|22",
  'Unknown'=> "3|7"
);
$result['image_file'] = "./out3.jpg";
$result['predicts'] = array(
  0=> 60.7,
  1=> 5,
  2=> 17.3,
  3=> 7,
  4=> 10
);
$result["dbset"]=  array(
  array (
    'typename' =>'Adenoma',
    'dirpath' => './',
    'files' => array(
      "0" => "0_result.jpg",
      "1" => "1_Adenoma.jpg",
      "2" => "2_Adenoma.jpg",
      "3" => "2_Adenoma.jpg",
      "4" => "2_Adenoma.jpg",
      "5" => "2_Adenoma.jpg",
      "6" => "2_Adenoma.jpg",
      "7" => "2_Adenoma.jpg",
      "8" => "2_Adenoma.jpg",
      "9" => "2_Adenoma.jpg",
      "10" => "2_Adenoma.jpg",      
      "11" => "2_Adenoma.jpg",
      "12" => "2_Adenoma.jpg",
      "13" => "2_Adenoma.jpg",
      "14" => "2_Adenoma.jpg",
      "15" => "2_Adenoma.jpg",
      "16" => "2_Adenoma.jpg",
      "17" => "2_Adenoma.jpg",
    )
  ),
  array (
    'typename' =>'Hyperplastic',
    'dirpath' => './qwe/wqe/asd',
    'files' => array(
      "0" => "0_Hyperplastic.jpg",
      "1" => "1_Hyperplastic.jpg",
      "2" => "2_Hyperplastic.jpg",    
      "3" => "2_Hyperplastic.jpg",    
      "4" => "2_Hyperplastic.jpg",    
      "5" => "2_Hyperplastic.jpg",   
      "7" => "2_Adenoma.jpg",
      "8" => "2_Adenoma.jpg",
      "9" => "2_Adenoma.jpg",
      "10" => "2_Adenoma.jpg",      
      "11" => "2_Adenoma.jpg",
      "12" => "2_Adenoma.jpg",
      "13" => "2_Adenoma.jpg",
      "14" => "2_Adenoma.jpg",
      "15" => "2_Adenoma.jpg",
      "16" => "2_Adenoma.jpg",
      "17" => "2_Adenoma.jpg", 
    )
  ),
  array (
    'typename' => 'Normal',
    'dirpath' => './qwe/wqe/asd',
    'files' => array(
      "0" => "0_Normal",
      "1" => "1_Normal",
      "2" => "2_Normal"   
    ) 
  ),
  array (
    'typename' => 'Unknown',
    'dirpath' => './qwe/wqe/asd',
    'files' => array(
      "0" => "0_Unknown",
      "1" => "1_Unknown",
      "2" => "2_Unknown"    
    )
  )
);
$temp  = '{"31_30":"0","22_25":"0","4_4":"0","4_10":"0","1_21":"0","30_22":"0","1_16":"0","21_17":"green","8_31":"0","15_30":"0","31_28":"0","12_15":"black","24_25":"0","8_14":"black","26_8":"0","22_27":"0","31_15":"0","21_12":"black","31_18":"0","22_16":"green","20_32":"0","4_8":"0","23_12":"black","19_4":"0","16_4":"black","17_20":"0","20_6":"black","32_32":"0","20_27":"0","24_9":"black","9_25":"green","15_28":"0","29_15":"0","31_31":"0","9_7":"black","24_26":"0","15_25":"0","22_28":"0","3_17":"0","21_32":"0","18_2":"0","18_14":"black","23_24":"0","1_29":"0","16_27":"0","3_6":"0","27_17":"0","26_16":"green","16_6":"black","29_23":"0","19_25":"green","26_4":"0","14_4":"black","16_9":"black","3_14":"0","11_7":"black","29_12":"0","18_31":"0","8_17":"black","1_13":"0","12_31":"0","25_1":"0","29_28":"0","3_28":"0","25_14":"0","5_23":"0","27_32":"0","3_23":"0","12_14":"green","25_17":"green","5_17":"0","21_4":"green","28_17":"0","2_27":"0","20_14":"black","1_31":"0","32_9":"0","24_3":"0","6_29":"green","23_2":"0","27_19":"0","9_12":"black","9_11":"black","27_23":"0","14_1":"0","29_17":"0","30_17":"0","20_23":"green","24_16":"black","24_28":"0","3_27":"0","12_16":"black","27_8":"0","32_8":"0","22_8":"black","12_3":"0","1_24":"0","25_11":"0","23_21":"green","9_9":"green","5_12":"0","10_5":"black","7_8":"black","4_20":"0","14_10":"black","10_14":"black","23_22":"green","11_28":"green","8_13":"black","10_22":"green","24_22":"green","31_10":"0","31_22":"0","19_1":"0","1_20":"0","22_23":"green","1_25":"0","15_10":"black","11_16":"green","12_10":"black","32_30":"0","30_16":"0","20_11":"black","18_7":"black","28_15":"0","8_1":"0","4_5":"0","1_11":"0","29_16":"0","10_24":"green","30_31":"0","7_3":"0","23_7":"black","28_24":"0","27_16":"green","8_11":"black","26_10":"0","8_2":"0","5_2":"0","32_1":"0","23_27":"0","5_18":"0","31_19":"0","22_10":"black","24_7":"black","31_14":"0","21_19":"green","20_10":"black","25_26":"0","21_20":"green","17_1":"0","2_17":"0","27_14":"green","4_21":"0","8_5":"0","11_1":"0","2_11":"0","18_28":"0","2_13":"0","1_5":"0","19_6":"black","19_18":"black","15_32":"0","16_7":"black","18_8":"black","23_26":"0","19_22":"green","1_10":"0","21_21":"green","17_9":"black","20_13":"black","16_8":"black","13_4":"black","13_14":"black","26_23":"0","5_31":"0","29_3":"0","11_26":"green","26_3":"0","4_24":"0","9_4":"0","29_22":"0","22_29":"0","16_20":"0","6_16":"0","12_21":"green","9_32":"0","9_10":"green","12_28":"green","25_19":"green","17_4":"0","8_23":"green","14_21":"green","17_17":"black","29_24":"0","7_12":"black","7_21":"black","32_21":"0","7_26":"green","11_11":"green","32_12":"0","4_2":"0","6_22":"black","21_11":"black","27_9":"0","19_15":"black","11_31":"green","5_3":"0","11_3":"0","28_14":"0","5_16":"0","5_4":"0","30_7":"0","15_14":"black","23_10":"black","23_13":"black","12_6":"black","17_13":"black","10_23":"green","17_27":"0","13_28":"green","2_4":"0","15_1":"0","12_2":"0","8_6":"0","7_9":"black","31_32":"0","8_22":"black","12_18":"green","15_31":"0","23_14":"black","1_26":"0","18_12":"black","29_1":"0","4_1":"0","29_8":"0","1_22":"0","20_15":"black","26_1":"0","1_9":"0","12_20":"green","27_10":"0","1_8":"0","21_16":"green","23_29":"0","13_31":"0","2_1":"0","11_12":"green","30_4":"0","10_6":"black","12_12":"green","2_25":"0","8_28":"green","27_22":"0","5_22":"0","24_20":"green","21_14":"black","22_5":"green","25_21":"0","9_26":"green","25_30":"0","13_20":"green","2_12":"0","13_29":"green","13_12":"green","15_17":"green","27_15":"green","16_1":"0","1_6":"0","20_20":"green","3_11":"0","28_21":"0","5_28":"0","28_5":"0","14_11":"black","13_13":"green","16_32":"0","21_3":"0","8_3":"0","30_3":"0","8_9":"black","21_15":"black","3_32":"0","9_2":"0","25_18":"green","22_22":"green","28_25":"0","12_22":"green","17_31":"0","10_27":"green","15_11":"black","18_21":"green","6_20":"0","6_15":"green","8_27":"green","32_4":"0","28_9":"0","11_30":"green","28_30":"0","10_1":"0","28_18":"0","23_3":"0","19_2":"0","8_19":"black","31_13":"0","5_19":"0","17_15":"green","29_2":"0","28_7":"0","8_26":"green","19_26":"0","10_20":"green","6_32":"0","20_19":"green","6_1":"0","7_17":"0","32_16":"0","26_2":"0","3_30":"0","15_6":"black","12_17":"green","21_29":"0","28_2":"0","16_28":"0","24_6":"0","22_7":"black","5_30":"0","20_17":"green","24_23":"0","26_32":"0","27_13":"green","20_26":"0","14_9":"black","2_24":"0","17_23":"green","25_7":"0","20_12":"black","16_12":"black","19_3":"0","26_11":"0","14_18":"green","15_27":"0","24_10":"black","20_1":"0","23_32":"0","28_23":"0","32_23":"0","23_20":"green","12_9":"black","25_8":"black","16_29":"0","32_27":"0","9_20":"green","18_11":"black","1_17":"0","19_8":"black","14_19":"green","20_7":"black","8_10":"black","2_21":"0","10_12":"black","7_24":"green","12_4":"green","16_22":"green","21_27":"0","24_24":"0","20_28":"0","28_31":"0","24_11":"black","1_18":"0","32_24":"0","4_17":"0","1_12":"0","22_12":"black","28_1":"0","17_11":"black","20_29":"0","18_15":"black","4_28":"0","31_16":"0","14_2":"0","7_1":"0","27_26":"0","13_9":"black","14_17":"green","13_11":"black","30_23":"0","22_24":"green","5_11":"0","6_7":"0","2_9":"0","15_4":"black","24_8":"black","10_4":"0","12_30":"green","6_2":"0","1_19":"0","15_24":"green","10_9":"black","8_16":"black","10_31":"green","22_14":"black","1_4":"0","29_29":"0","2_19":"0","27_12":"0","5_1":"0","31_20":"0","10_29":"green","26_19":"0","29_14":"0","10_15":"green","8_8":"green","31_1":"0","26_31":"0","13_25":"green","30_20":"0","30_11":"0","4_3":"0","18_17":"green","13_19":"green","26_18":"0","18_5":"0","29_10":"0","27_1":"0","13_22":"green","14_26":"green","10_21":"green","7_4":"0","17_32":"0","24_13":"0","28_12":"0","21_6":"black","29_27":"0","3_8":"0","27_24":"0","23_1":"0","32_31":"0","20_31":"0","5_27":"0","25_10":"black","14_15":"green","18_19":"0","3_7":"0","22_18":"green","22_17":"green","7_31":"0","28_13":"0","31_24":"0","29_7":"0","21_10":"black","26_7":"0","10_16":"green","10_18":"black","30_32":"0","24_17":"black","26_30":"0","20_3":"0","13_26":"green","4_14":"0","2_32":"0","12_1":"0","15_16":"green","11_8":"black","3_20":"0","28_3":"0","31_9":"0","23_17":"green","30_13":"0","9_23":"green","22_13":"black","28_29":"0","28_10":"0","26_21":"0","19_11":"black","26_25":"0","9_3":"0","7_6":"0","15_18":"green","3_15":"0","30_9":"0","12_11":"black","30_1":"0","22_32":"0","7_29":"green","4_11":"0","9_30":"green","15_22":"green","19_19":"0","22_20":"green","12_24":"green","28_19":"0","2_7":"0","2_22":"0","25_9":"black","11_19":"green","6_13":"0","6_14":"0","2_20":"0","27_5":"0","25_12":"0","17_30":"0","4_32":"0","28_32":"0","10_19":"black","32_25":"0","1_15":"0","8_18":"black","13_3":"green","18_18":"green","24_21":"green","13_5":"black","9_27":"green","12_27":"green","11_18":"green","20_24":"green","23_28":"0","30_8":"0","3_5":"0","16_18":"0","4_15":"0","13_1":"0","17_10":"black","32_18":"0","23_5":"0","29_13":"0","3_9":"0","7_13":"black","32_17":"0","5_29":"0","14_16":"green","17_5":"0","22_26":"0","17_3":"green","32_5":"0","27_18":"0","4_26":"0","12_19":"green","20_8":"black","11_2":"0","24_1":"0","14_31":"0","10_26":"green","29_26":"0","30_27":"0","25_5":"0","21_8":"black","8_4":"0","32_3":"0","7_22":"black","28_4":"0","19_30":"0","31_7":"0","6_17":"0","2_8":"0","1_28":"0","25_28":"0","19_27":"0","8_12":"black","24_30":"0","6_23":"black","24_31":"0","17_12":"black","21_5":"black","18_32":"0","13_18":"green","31_25":"0","23_15":"0","10_8":"black","12_5":"black","28_27":"0","8_21":"black","30_19":"0","18_9":"black","26_14":"green","20_5":"black","3_24":"0","15_2":"0","1_27":"0","7_19":"black","26_29":"0","29_4":"0","19_31":"0","24_14":"0","22_11":"black","21_22":"green","31_2":"0","30_26":"0","13_27":"green","26_24":"0","18_16":"black","17_8":"black","10_10":"black","10_25":"green","28_22":"0","18_23":"green","4_25":"0","14_5":"black","21_1":"0","32_13":"0","16_23":"green","16_26":"0","20_2":"0","21_18":"green","21_24":"green","14_25":"green","19_17":"green","17_7":"black","31_5":"0","6_11":"black","19_20":"green","13_15":"black","22_4":"0","14_14":"green","30_2":"0","18_22":"green","7_11":"black","4_19":"0","20_4":"0","16_16":"black","16_25":"0","13_23":"green","16_24":"0","16_17":"green","10_13":"black","30_5":"0","16_14":"black","6_18":"0","5_14":"0","17_18":"black","30_28":"0","8_25":"green","7_27":"green","18_10":"black","13_10":"black","9_5":"black","9_16":"green","6_31":"0","11_15":"green","25_3":"0","25_25":"0","19_28":"0","19_16":"black","27_25":"0","5_26":"0","22_15":"black","7_18":"black","27_20":"0","11_6":"black","31_11":"0","21_7":"black","14_20":"green","15_8":"black","31_23":"0","32_6":"0","6_12":"black","6_26":"green","9_28":"0","16_31":"0","29_30":"0","3_26":"0","1_3":"0","14_3":"black","13_30":"0","15_19":"green","8_24":"green","6_8":"0","29_9":"0","4_7":"0","9_21":"green","31_17":"0","22_21":"green","13_6":"black","9_14":"black","24_15":"black","5_24":"0","2_29":"0","26_9":"0","2_5":"0","10_30":"green","5_5":"0","30_12":"0","20_30":"0","7_25":"green","22_6":"black","24_5":"0","25_24":"0","30_14":"0","11_17":"green","6_25":"green","6_28":"green","13_32":"0","1_1":"0","21_30":"0","6_5":"0","5_32":"0","17_16":"black","17_21":"green","19_23":"green","2_3":"0","3_18":"0","5_7":"0","1_32":"0","14_22":"black","22_1":"0","25_20":"0","11_23":"green","22_3":"0","18_6":"green","26_26":"0","29_19":"0","15_9":"black","28_20":"0","32_28":"0","28_28":"0","29_21":"0","1_7":"0","10_7":"green","27_6":"0","25_29":"0","5_20":"0","13_17":"green","4_18":"0","17_2":"0","14_23":"green","2_23":"0","11_14":"green","15_29":"0","5_15":"0","9_22":"green","32_22":"0","30_18":"0","6_3":"0","31_3":"0","31_12":"0","4_16":"0","26_22":"0","15_21":"green","18_27":"0","16_13":"black","18_29":"0","23_11":"black","9_19":"black","2_26":"0","5_25":"0","5_13":"0","3_29":"0","19_29":"0","24_2":"0","18_24":"green","29_20":"0","15_26":"0","26_5":"0","21_26":"0","11_5":"green","22_30":"0","13_24":"green","17_6":"black","29_5":"0","26_15":"black","15_5":"black","32_15":"0","13_21":"green","12_26":"green","29_11":"0","22_31":"0","27_30":"0","4_27":"0","26_6":"0","15_20":"green","18_20":"green","8_29":"0","2_28":"0","25_27":"0","11_20":"green","12_29":"green","28_6":"0","30_29":"0","14_32":"0","24_19":"green","31_8":"0","11_25":"green","27_11":"0","16_11":"black","2_14":"0","6_21":"black","21_28":"0","26_13":"green","30_21":"0","32_11":"0","9_1":"0","14_30":"0","22_9":"black","21_9":"black","19_7":"black","20_21":"green","17_26":"0","10_2":"0","21_25":"0","14_6":"black","24_18":"green","25_23":"0","15_3":"black","26_28":"0","1_23":"0","18_13":"black","8_15":"black","7_14":"black","29_18":"0","11_4":"0","32_14":"0","16_3":"black","19_13":"black","8_30":"green","23_25":"0","23_30":"0","25_15":"black","15_13":"black","19_14":"black","11_10":"green","10_28":"green","7_30":"0","19_5":"black","2_18":"0","22_2":"0","32_19":"0","21_31":"0","12_23":"green","3_12":"0","17_14":"black","31_6":"0","22_19":"black","14_24":"green","4_6":"0","17_19":"0","7_2":"0","9_15":"black","21_23":"green","10_32":"0","4_31":"0","27_29":"0","28_26":"0","23_19":"green","19_9":"black","8_20":"black","18_25":"0","7_15":"green","11_32":"0","9_31":"0","8_32":"0","23_6":"black","14_28":"0","3_2":"0","10_11":"green","4_9":"0","1_30":"0","25_32":"0","7_7":"0","27_28":"0","7_23":"black","3_3":"0","5_10":"0","31_4":"0","15_7":"black","13_16":"green","16_19":"0","4_30":"0","11_22":"green","3_31":"0","4_13":"0","19_12":"black","3_10":"0","6_19":"0","25_22":"0","20_16":"green","7_28":"green","9_6":"black","20_9":"black","4_23":"0","24_27":"0","31_26":"0","25_13":"0","11_27":"green","3_4":"0","26_27":"0","24_4":"0","12_8":"black","29_31":"0","30_10":"0","27_31":"0","11_9":"green","6_9":"0","11_13":"green","2_15":"0","14_27":"green","7_5":"0","14_8":"black","13_2":"0","3_1":"0","18_1":"0","32_26":"0","29_25":"0","32_20":"0","32_2":"0","18_3":"0","18_4":"0","21_13":"black","14_12":"black","4_22":"0","1_2":"0","16_5":"black","1_14":"0","20_25":"green","16_15":"black","30_15":"0","5_8":"0","31_29":"0","20_18":"black","25_31":"0","30_25":"0","20_22":"green","3_21":"0","9_29":"0","2_31":"0","7_10":"black","6_24":"black","28_11":"0","16_30":"0","23_16":"green","3_25":"0","6_4":"0","4_12":"0","17_28":"0","29_6":"0","6_10":"green","31_21":"0","32_10":"0","13_8":"black","10_3":"0","23_8":"black","23_4":"0","23_31":"0","2_16":"0","9_24":"green","12_25":"green","25_16":"black","27_4":"0","32_29":"0","5_6":"0","12_7":"black","5_9":"0","3_19":"0","12_32":"0","15_23":"green","3_22":"0","14_29":"0","9_13":"black","14_7":"black","19_32":"0","6_30":"0","26_12":"0","30_6":"0","31_27":"0","25_6":"0","7_16":"0","13_7":"black","9_17":"green","32_7":"0","3_16":"0","16_2":"0","25_2":"0","10_17":"green","15_15":"black","11_21":"green","21_2":"0","18_26":"0","28_16":"0","23_9":"black","27_21":"0","5_21":"0","19_21":"green","27_27":"0","9_8":"black","18_30":"0","29_32":"0","7_20":"black","2_2":"0","16_21":"green","17_29":"0","19_10":"black","12_13":"green","14_13":"green","7_32":"0","4_29":"0","23_18":"black","27_3":"0","11_29":"green","11_24":"green","24_32":"0","23_23":"green","6_6":"0","17_22":"green","30_24":"0","24_29":"0","15_12":"black","25_4":"0","2_6":"0","26_20":"0","6_27":"green","2_10":"0","27_7":"0","28_8":"0","16_10":"black","17_25":"0","3_13":"0","27_2":"0","8_7":"green","9_18":"green","19_24":"green","30_30":"0","24_12":"0","26_17":"green","2_30":"0","17_24":"0"}';
$result['color'] = json_decode($temp,true);
$result['hasConfig'] = false;
sleep(5);
echo json_encode($result);